#!/usr/bin/env php
<?php

/**
 * This file is part of ZTB
 */
namespace ZTB;

require( dirname( __DIR__ ) . '/vendor/autoload.php' );

/*
 * Configure app
 */
try
{
	$appName = Application::NAME;
	$appVersion = Application::VERSION;
	$phpMinimum = Application::PHP_MIN;

	$app = \Cranberry\Shell\ApplicationFactory::create( $appName, $appVersion, $phpMinimum, $argv, $_SERVER );
}
catch( \RuntimeException $e )
{
	echo $e->getMessage() . PHP_EOL;
	exit( $e->getCode() );
}

/* Bootstrap */
require( __DIR__ . '/bootstrap.php' );
$___bootstrap( $app );

/*
 * Run and exit
 */
$app->run();
$app->exit();
